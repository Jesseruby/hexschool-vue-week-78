{"version":3,"file":"js/837.cdaf0242.js","mappings":"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","sources":["webpack://week8/./src/views/ProductsView.vue","webpack://week8/./src/components/ProductModal.vue","webpack://week8/./src/components/ProductModal.vue?b0ff","webpack://week8/./src/views/ProductsView.vue?91db"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <component-loading :active=\"isLoading\"></component-loading>\n    <h2 class=\"text-pinkdeep\">產品列表</h2>\n    <div class=\"container\">\n      <div class=\"row row-cols-1 row-cols-lg-4 g-4\">\n        <div class=\"col\" v-for=\"product in products\" :key=\"product.id\">\n          <div class=\"card\">\n            <img :src=\"product.imageUrl\" class=\"card-img-top\" alt=\"...\"\n              style=\"object-fit: cover;height:300px\"/>\n            <div class=\"card-body\">\n              <h5 class=\"card-title\">{{ product.title }}</h5>\n              <p class=\"card-text\">\n                {{ product.description }}\n              </p>\n              <div class=\"h5\" v-if=\"product.price === product.origin_price\">\n                {{ product.price }} 元\n              </div>\n              <div v-else>\n                <del class=\"h6\">原價 {{ product.origin_price }} 元</del>\n                <p class=\"h5\">現在只要 {{ product.price }} 元</p>\n              </div>\n            </div><!-- .card-body-->\n            <div class=\"card-footer bg-white\">\n              <div class=\"d-grid gap-2 text-center d-md-block\">\n                <button type=\"button\"\n                  class=\"btn my-2 me-2 btn-outline-pinkdeep btn-sm\"\n                  :disabled=\"isLoadingItem === product.id\"\n                  @click=\"openProductModal(product.id)\">\n                  <font-awesome-icon\n                    icon=\"spinner\" pulse\n                    v-if=\"isLoadingItem === product.id\"/>\n                  查看更多\n                </button>\n                <button type=\"button\"\n                  class=\"btn btn-pinkdeep btn-sm\"\n                  :disabled=\"isLoadingItem === product.id\"\n                  @click=\"addCart(product.id)\">\n                  <font-awesome-icon\n                    icon=\"spinner\" pulse\n                    v-if=\"isLoadingItem === product.id\"/>\n                  加到購物車\n                </button>\n              </div><!-- .d-grid-->\n            </div><!-- .card-footer-->\n          </div><!-- .card -->\n        </div><!-- .col -->\n      </div><!-- .row -->\n      <!-- 分頁元件 -->\n      <page-pagination\n        :pages=\"pagination\"\n        @get-product=\"getProducts\">\n      </page-pagination>\n    </div><!-- .container -->\n    <!-- 產品Modal -->\n    <product-modal\n      ref=\"productModal\"\n      :id=\"productId\"\n      @add-cart=\"addCart\"></product-modal>\n  </div>\n</template>\n\n<script>\nimport PagePagination from '@/components/PagePagination.vue';\nimport emitter from '@/libs/emitter';\nimport ProductModal from '@/components/ProductModal.vue';\n\nexport default {\n  data() {\n    return {\n      // 購物車列表\n      cartData: {\n        carts: [],\n      },\n      // 產品列表\n      products: [],\n      productId: '',\n      isLoadingItem: '',\n      isLoading: false,\n      product: {},\n      modal: {\n        ProductModal: '',\n      },\n      pagination: {},\n    };\n  },\n  components: {\n    PagePagination,\n    ProductModal,\n  },\n  methods: {\n    addCart(id, qty = 1) {\n      const data = {\n        product_id: id,\n        qty,\n      };\n      this.isLoadingItem = id;\n      this.$http\n        .post(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`, { data })\n        .then((res) => {\n          console.log(res);\n          this.$refs.productModal.closeModal();\n          this.isLoadingItem = '';\n          emitter.emit('get-cart');\n        });\n    },\n    getProducts(page = 1) {\n      this.isLoading = true;\n      this.$http\n        .get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products?page=${page}`)\n        .then((res) => {\n          this.products = res.data.products;\n          this.isLoading = false;\n          this.pagination = res.data.pagination;\n        });\n    },\n    openProductModal(id) {\n      this.productId = id;\n      this.$refs.productModal.openModal();\n    },\n  },\n  mounted() {\n    this.getProducts();\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"bootstrap/scss/bootstrap\";\n/*自訂樣式*/\n.text-pink{ color: #ffabc2;}\n.text-pinkdeep{ color: #ff789c;}\n.bg-pink { background-color: #ffabc2;}\n.btn-pink {\n  color: #212529;\n  background-color: #ffdee7;\n  border-color: #ffdee7;\n}\n.btn-pinkdeep {\n  color: #fff;\n  background-color: #ff789c;\n  border-color: #ff789c;\n}\n.btn-outline-pinkdeep {\n  color: #ff789c;\n  background-color: #fff;\n  border-color: #ff789c;\n}\n</style>\n","<template>\n  <component-loading :active=\"isLoading\"></component-loading>\n  <div id=\"productModal\"\n    class=\"modal fade\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\">\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-pinkdeep text-wite\">\n          <h4 class=\"modal-title ms-auto\">\n            <span>{{ product.title }}</span>\n          </h4>\n          <button type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\">\n          </button>\n        </div><!-- .modal-header -->\n        <div class=\"modal-body\">\n          <div class=\"row\">\n            <div class=\"col-sm-6\">\n              <img class=\"img-fluid\" :src=\"product.imageUrl\" alt=\"\"\n                style=\"object-fit: cover;height:600px;width: 100%;\"/>\n            </div>\n            <div class=\"col-sm-6\">\n              <span class=\"badge bg-pinkdeep rounded-pill\">\n                {{  product.category }}\n              </span>\n              <p>商品描述：{{ product.description }}</p>\n              <p>商品內容：{{ product.content }}</p>\n              <div class=\"h5\">{{ product.origin_price }} 元</div>\n              <del class=\"h6\">原價 {{ product.origin_price }} 元</del>\n              <div class=\"h5\">現在只要 {{ product.price }} 元</div>\n              <div>\n                <div class=\"input-group\">\n                  <select id=\"\" class=\"form-select\" v-model=\"qty\">\n                    <option :value=\"num\" v-for=\"num in 5\" :key=\"`${num}-${id}`\">\n                      {{ num }}\n                    </option>\n                  </select>\n                  <button type=\"button\"\n                    class=\"btn btn-pinkdeep\"\n                    @click=\"$emit('add-cart', product.id, qty)\">\n                    加入購物車\n                  </button>\n                </div><!-- .input-group -->\n              </div>\n            </div><!-- .col -->\n          </div><!-- .row -->\n        </div><!-- .modal-body -->\n      </div><!-- .modal-content -->\n    </div><!-- .modal-dialog -->\n  </div><!-- .productModal -->\n</template>\n\n<script>\nimport Modal from 'bootstrap/js/dist/modal';\n\nexport default {\n  props: ['id'],\n  data() {\n    return {\n      modal: {},\n      product: {},\n      qty: 1,\n    };\n  },\n  watch: {\n    id() {\n      this.product = {};\n      this.getProduct();\n    },\n  },\n  methods: {\n    getProduct() {\n      this.isLoading = true;\n      this.$http\n        .get(\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/product/${this.id}`\n        )\n        .then((res) => {\n          this.isLoading = false;\n          console.log(res);\n          this.product = res.data.product;\n        });\n    },\n    openModal() {\n      this.productModal.show();\n    },\n    closeModal() {\n      this.productModal.hide();\n    },\n  },\n  mounted() {\n    this.productModal = new Modal(this.$refs.modal, {\n      keyboard: false,\n      backdrop: 'static',\n    });\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"bootstrap/scss/bootstrap\";\n/*自訂樣式*/\n.text-pink{ color: #ffabc2;}\n.text-pinkdeep{ color: #ff789c;}\n.bg-pinkdeep{ background-color: #ff789c;}\n.bg-pink { background-color: #ffabc2;}\n.btn-pink {\n  color: #212529;\n  background-color: #ffdee7;\n  border-color: #ffdee7;\n}\n.btn-pinkdeep {\n  color: #fff;\n  background-color: #ff789c;\n  border-color: #ff789c;\n}\n.btn-outline-pinkdeep {\n  color: #ff789c;\n  background-color: #fff;\n  border-color: #ff789c;\n}\n</style>\n","import { render } from \"./ProductModal.vue?vue&type=template&id=8668e40a&scoped=true\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport \"./ProductModal.vue?vue&type=style&index=0&id=8668e40a&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\soyxi\\\\Downloads\\\\20220403-week-8\\\\hexschool-vue-week-78-main\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8668e40a\"]])\n\nexport default __exports__","import { render } from \"./ProductsView.vue?vue&type=template&id=2b50715d&scoped=true\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport \"./ProductsView.vue?vue&type=style&index=0&id=2b50715d&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\soyxi\\\\Downloads\\\\20220403-week-8\\\\hexschool-vue-week-78-main\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2b50715d\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_createVNode","_component_component_loading","active","$data","_hoisted_2","_Fragment","_renderList","product","key","id","src","imageUrl","alt","style","_toDisplayString","title","description","price","origin_price","_hoisted_11","type","disabled","onClick","$options","_createBlock","_component_font_awesome_icon","icon","pulse","_component_page_pagination","pages","onGetProduct","_component_product_modal","ref","onAddCart","tabindex","role","_ctx","_hoisted_6","category","content","$event","num","value","$props","_hoisted_17","props","data","modal","qty","watch","this","getProduct","methods","isLoading","$http","get","then","res","console","log","openModal","productModal","show","closeModal","hide","mounted","Modal","$refs","keyboard","backdrop","__exports__","cartData","carts","products","productId","isLoadingItem","ProductModal","pagination","components","PagePagination","addCart","product_id","post","emitter","getProducts","page","openProductModal","render"],"sourceRoot":""}