{"version":3,"file":"js/278.26923c81.js","mappings":"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","sources":["webpack://week8/./src/views/ProductsView.vue","webpack://week8/./src/components/ProductModal.vue","webpack://week8/./src/components/ProductModal.vue?b0ff","webpack://week8/./src/views/ProductsView.vue?91db"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <component-loading :active=\"isLoading\"></component-loading>\n    <h2>前台產品列表</h2>\n    <div class=\"container\">\n      <div class=\"row row-cols-1 row-cols-lg-5 g-3\">\n        <div class=\"col\" v-for=\"product in products\" :key=\"product.id\">\n          <div class=\"card h-100\">\n            <img :src=\"product.imageUrl\" class=\"card-img-top\" alt=\"...\" />\n            <div class=\"card-body\">\n              <h5 class=\"card-title\">{{ product.title }}</h5>\n              <p class=\"card-text\">\n                {{ product.description }}\n              </p>\n              <div class=\"h5\" v-if=\"product.price === product.origin_price\">\n                {{ product.price }} 元\n              </div>\n              <div v-else>\n                <del class=\"h6\">原價 {{ product.origin_price }} 元</del>\n                <p class=\"h5\">現在只要 {{ product.price }} 元</p>\n              </div>\n            </div><!-- .card-body-->\n            <div class=\"card-footer bg-white\">\n              <div class=\"d-grid gap-2 text-center d-md-block\">\n                <button type=\"button\"\n                  class=\"btn my-2 me-2 btn-outline-primary btn-sm\"\n                  :disabled=\"isLoadingItem === product.id\"\n                  @click=\"openProductModal(product.id)\">\n                  <font-awesome-icon\n                    icon=\"spinner\" pulse\n                    v-if=\"isLoadingItem === product.id\"/>\n                  查看更多\n                </button>\n                <button type=\"button\"\n                  class=\"btn btn-primary btn-sm\"\n                  :disabled=\"isLoadingItem === product.id\"\n                  @click=\"addCart(product.id)\">\n                  <font-awesome-icon\n                    icon=\"spinner\" pulse\n                    v-if=\"isLoadingItem === product.id\"/>\n                  加到購物車\n                </button>\n              </div><!-- .d-grid-->\n            </div><!-- .card-footer-->\n          </div><!-- .card -->\n        </div><!-- .col -->\n      </div><!-- .row -->\n      <!-- 分頁元件 -->\n      <page-pagination\n        :pages=\"pagination\"\n        @get-product=\"getProducts\">\n      </page-pagination>\n    </div><!-- .container -->\n    <!-- 產品Modal -->\n    <product-modal\n      ref=\"productModal\"\n      :id=\"productId\"\n      @add-cart=\"addCart\"></product-modal>\n  </div>\n</template>\n\n<script>\nimport emitter from '@/libs/emitter';\nimport ProductModal from '@/components/ProductModal.vue';\n// import PagePagination from '@/components/PagePagination.vue';\n\nexport default {\n  data() {\n    return {\n      // 購物車列表\n      cartData: {\n        carts: [],\n      },\n      // 產品列表\n      products: [],\n      productId: '',\n      isLoadingItem: '',\n      isLoading: false,\n      product: {},\n      modal: {\n        ProductModal: '',\n      },\n      pagination: {},\n    };\n  },\n  components: {\n    ProductModal,\n    // PagePagination,\n  },\n  methods: {\n    addCart(id, qty = 1) {\n      const data = {\n        product_id: id,\n        qty,\n      };\n      this.isLoadingItem = id;\n      this.$http\n        .post(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`, { data })\n        .then((res) => {\n          console.log(res);\n          this.$refs.productModal.closeModal();\n          this.isLoadingItem = '';\n          emitter.emit('get-cart');\n        });\n    },\n    getProducts(page = 1) {\n      this.isLoading = true;\n      this.$http\n        .get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products?page=${page}`)\n        .then((res) => {\n          this.products = res.data.products;\n          this.isLoading = false;\n          this.pagination = res.data.pagination;\n        });\n    },\n    openProductModal(id) {\n      this.productId = id;\n      this.$refs.productModal.openModal();\n    },\n  },\n  mounted() {\n    this.getProducts();\n  },\n};\n</script>\n","<template>\n  <component-loading :active=\"isLoading\"></component-loading>\n  <div id=\"productModal\"\n    class=\"modal fade\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\">\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-dark text-white\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n            <span>{{ product.title }}</span>\n          </h5>\n          <button type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\">\n          </button>\n        </div><!-- .modal-header -->\n        <div class=\"modal-body\">\n          <div class=\"row\">\n            <div class=\"col-sm-6\">\n              <img class=\"img-fluid\" :src=\"product.imageUrl\" alt=\"\" />\n            </div>\n            <div class=\"col-sm-6\">\n              <span class=\"badge bg-primary rounded-pill\">\n                {{  product.category }}\n              </span>\n              <p>商品描述：{{ product.description }}</p>\n              <p>商品內容：{{ product.content }}</p>\n              <div class=\"h5\">{{ product.origin_price }} 元</div>\n              <del class=\"h6\">原價 {{ product.origin_price }} 元</del>\n              <div class=\"h5\">現在只要 {{ product.price }} 元</div>\n              <div>\n                <div class=\"input-group\">\n                  <select id=\"\" class=\"form-select\" v-model=\"qty\">\n                    <option :value=\"num\" v-for=\"num in 5\" :key=\"`${num}-${id}`\">\n                      {{ num }}\n                    </option>\n                  </select>\n                  <button type=\"button\"\n                    class=\"btn btn-primary\"\n                    @click=\"$emit('add-cart', product.id, qty)\">\n                    加入購物車\n                  </button>\n                </div><!-- .input-group -->\n              </div>\n            </div><!-- .col -->\n          </div><!-- .row -->\n        </div><!-- .modal-body -->\n      </div><!-- .modal-content -->\n    </div><!-- .modal-dialog -->\n  </div><!-- .productModal -->\n</template>\n\n<script>\nimport Modal from 'bootstrap/js/dist/modal';\n\nexport default {\n  props: ['id'],\n  data() {\n    return {\n      modal: {},\n      product: {},\n      qty: 1,\n    };\n  },\n  watch: {\n    id() {\n      this.product = {};\n      this.getProduct();\n    },\n  },\n  methods: {\n    getProduct() {\n      this.isLoading = true;\n      this.$http\n        .get(\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/product/${this.id}`\n        )\n        .then((res) => {\n          this.isLoading = false;\n          console.log(res);\n          this.product = res.data.product;\n        });\n    },\n    openModal() {\n      this.productModal.show();\n    },\n    closeModal() {\n      this.productModal.hide();\n    },\n  },\n  mounted() {\n    this.productModal = new Modal(this.$refs.modal, {\n      keyboard: false,\n      backdrop: 'static',\n    });\n  },\n};\n</script>\n","import { render } from \"./ProductModal.vue?vue&type=template&id=490429b8\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\jesse\\\\OneDrive\\\\Learning\\\\課程_六角學院\\\\202201-六角-Vue作品實戰班\\\\Week-7+8\\\\vue-hw-week8-1\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProductsView.vue?vue&type=template&id=3194f0c3\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\jesse\\\\OneDrive\\\\Learning\\\\課程_六角學院\\\\202201-六角-Vue作品實戰班\\\\Week-7+8\\\\vue-hw-week8-1\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_createVNode","_component_component_loading","active","$data","_hoisted_2","_Fragment","_renderList","product","key","id","src","imageUrl","alt","_toDisplayString","title","description","price","origin_price","_hoisted_11","type","disabled","onClick","$options","_createBlock","_component_font_awesome_icon","icon","pulse","_component_page_pagination","pages","onGetProduct","_component_product_modal","ref","onAddCart","tabindex","role","_ctx","_hoisted_6","category","content","$event","num","value","$props","_hoisted_17","props","data","modal","qty","watch","this","getProduct","methods","isLoading","$http","get","then","res","console","log","openModal","productModal","show","closeModal","hide","mounted","Modal","$refs","keyboard","backdrop","__exports__","cartData","carts","products","productId","isLoadingItem","ProductModal","pagination","components","addCart","product_id","post","emitter","getProducts","page","openProductModal","render"],"sourceRoot":""}