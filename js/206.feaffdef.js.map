{"version":3,"file":"js/206.feaffdef.js","mappings":"kMAESA,MAAM,c,GACXC,EAAAA,EAAAA,GASQ,eARNA,EAAAA,EAAAA,GAOK,YANHA,EAAAA,EAAAA,GAAa,UAAT,SACJA,EAAAA,EAAAA,GAAc,UAAV,UACJA,EAAAA,EAAAA,GAAa,UAAT,SACJA,EAAAA,EAAAA,GAAa,UAAT,SACJA,EAAAA,EAAAA,GAAa,UAAT,SACJA,EAAAA,EAAAA,GAAW,UAAP,UAPR,G,qBAgBYD,MAAM,iB,GAORA,MAAM,c,GAEHA,MAAM,0B,gEAYNA,MAAM,a,qNAvCrBE,EAAAA,EAAAA,IAA2DC,EAAA,CAAvCC,OAAQC,EAAAA,WAAS,oBACrCJ,EAAAA,EAAAA,GAsDQ,QAtDR,EAsDQ,CArDNK,GAUAL,EAAAA,EAAAA,GA0CQ,6BAzCNM,EAAAA,EAAAA,IAwCWC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAxCqBJ,EAAAA,QAAM,CAApBK,EAAMC,M,6BAAsBA,GAAG,CACrCN,EAAAA,OAAOO,SAAAA,EAAAA,EAAAA,OAAjBL,EAAAA,EAAAA,IAsCK,M,MAtCqBP,OAAK,2BAAuBU,EAAKG,WAA3D,EACEZ,EAAAA,EAAAA,GAAmC,WAAAa,EAAAA,EAAAA,IAA5BC,EAAAA,KAAKL,EAAKM,YAAS,IAC1Bf,EAAAA,EAAAA,GAAgE,WAAvBS,EAAKO,OAAAA,EAAAA,EAAAA,OAA1CV,EAAAA,EAAAA,IAAuD,Q,mBAAjDO,EAAAA,EAAAA,IAAQJ,EAAKO,KAAKC,QAAxB,8BACJjB,EAAAA,EAAAA,GAOK,YANHA,EAAAA,EAAAA,GAKK,KALL,EAKK,gBAJHM,EAAAA,EAAAA,IAGKC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAH0BC,EAAKS,UAAQ,CAAhCC,EAASC,M,WAArBd,EAAAA,EAAAA,IAGK,MAH0CI,IAAKU,IAAKP,EAAAA,EAAAA,IACpDM,EAAQA,QAAQE,OAAQ,QAAIR,EAAAA,EAAAA,IAAGM,EAAQG,KAAM,KAChDT,EAAAA,EAAAA,IAAGM,EAAQA,QAAQI,MAAI,MAFzB,WAMJvB,EAAAA,EAAAA,GAA4C,KAA5C,GAA4Ca,EAAAA,EAAAA,IAAlBJ,EAAKe,OAAK,IACpCxB,EAAAA,EAAAA,GAWK,YAVHA,EAAAA,EAAAA,GASM,MATN,EASM,WARJA,EAAAA,EAAAA,GAG0B,SAHnByB,KAAK,WACV1B,MAAM,mBACL2B,GAAE,GAAKjB,EAAKiB,K,yBACJjB,EAAKG,QAAOe,GAHvB,iBAGWlB,EAAKG,YAChBZ,EAAAA,EAAAA,GAGQ,SAHDD,MAAM,mBAAoB6B,IAAG,GAAKnB,EAAKiB,MAA9C,CACcjB,EAAKG,UAAAA,EAAAA,EAAAA,OAAjBN,EAAAA,EAAAA,IAAoC,OAAAuB,EAAV,UAA1B,WACAvB,EAAAA,EAAAA,IAAuB,OAAAwB,EAAV,SAFf,UAMJ9B,EAAAA,EAAAA,GAaK,YAZHA,EAAAA,EAAAA,GAWM,MAXN,EAWM,EAVJA,EAAAA,EAAAA,GAIS,UAJDyB,KAAK,SACX1B,MAAM,iCACLgC,QAAK,GAAEjB,EAAAA,gBAAgBL,IAAO,OAEjC,EAAAuB,IACAhC,EAAAA,EAAAA,GAIS,UAJDyB,KAAK,SACX1B,MAAM,gCACLgC,QAAK,GAAEjB,EAAAA,kBAAkBL,IAAO,OAEnC,EAAAwB,QAnCN,qBAD+C,OAAjD,WA4CJhC,EAAAA,EAAAA,IAGkBiC,EAAA,CAFfC,MAAO/B,EAAAA,WACPgC,aAAatB,EAAAA,WAFhB,kCAKAb,EAAAA,EAAAA,IAIeoC,EAAA,CAHZC,MAAOlC,EAAAA,UACRmC,IAAI,aACHC,aAAa1B,EAAAA,WAHhB,kCAMAb,EAAAA,EAAAA,IAIkBwC,EAAA,CAHfhC,KAAML,EAAAA,UACPmC,IAAI,gBACHG,eAAgB5B,EAAAA,UAHnB,uC,uBCpEKf,MAAM,aACT2B,GAAG,aACHiB,SAAS,KACTC,KAAK,SACL,kBAAgB,oBAChB,cAAY,OACZL,IAAI,S,GACCxC,MAAM,wBAAwB6C,KAAK,Y,GACjC7C,MAAM,0B,GACTC,EAAAA,EAAAA,GASM,OATDD,MAAM,mCAAiC,EAC1CC,EAAAA,EAAAA,GAEK,MAFDD,MAAM,cAAc2B,GAAG,qBAA3B,EACE1B,EAAAA,EAAAA,GAAiB,YAAX,WAERA,EAAAA,EAAAA,GAIS,UAJDyB,KAAK,SACX1B,MAAM,YACN,kBAAgB,QAChB,aAAW,YAPf,G,GAUKA,MAAM,c,GACJA,MAAM,O,GACJA,MAAM,Y,GACTC,EAAAA,EAAAA,GAAa,UAAT,QAAI,G,GACDD,MAAM,S,aAGPC,EAAAA,EAAAA,GAAiC,MAA7B6C,MAAA,iBAAqB,OAAG,G,GAI5B7C,EAAAA,EAAAA,GAAe,UAAX,UAAM,G,GAIVA,EAAAA,EAAAA,GAAY,UAAR,OAAG,G,GAIPA,EAAAA,EAAAA,GAAY,UAAR,OAAG,G,GAMVD,MAAM,Y,GACTC,EAAAA,EAAAA,GAAa,UAAT,QAAI,G,GACDD,MAAM,S,GAGPC,EAAAA,EAAAA,GAAmC,MAA/B6C,MAAA,iBAAqB,SAAK,G,GAI9B7C,EAAAA,EAAAA,GAAc,UAAV,SAAK,G,GAITA,EAAAA,EAAAA,GAAc,UAAV,SAAK,G,uBASTA,EAAAA,EAAAA,GAAc,UAAV,SAAK,G,SAE0BD,MAAM,gB,SAC1BA,MAAM,c,GAIrBC,EAAAA,EAAAA,GAAa,UAAT,QAAI,G,GAOdA,EAAAA,EAAAA,GAAc,UAAV,SAAK,G,GACFD,MAAM,S,GACXC,EAAAA,EAAAA,GAEQ,eADNA,EAAAA,EAAAA,GAAS,QADX,G,GASQD,MAAM,Y,GAMXA,MAAM,8B,GACJA,MAAM,c,GAMFA,MAAM,mBAAmB6B,IAAI,oB,0BASzC7B,MAAM,gB,IACTC,EAAAA,EAAAA,GAIS,UAJDyB,KAAK,SACX1B,MAAM,4BACN,kBAAgB,SAAQ,QAE1B,G,2CAtHRO,EAAAA,EAAAA,IA+HM,MA/HN,EA+HM,EAxHJN,EAAAA,EAAAA,GAuHM,MAvHN,EAuHM,EAtHJA,EAAAA,EAAAA,GAqHM,MArHN,EAqHM,CApHJ8C,GAUA9C,EAAAA,EAAAA,GA6FM,MA7FN,EA6FM,EA5FJA,EAAAA,EAAAA,GA2FM,MA3FN,EA2FM,EA1FJA,EAAAA,EAAAA,GAsBM,MAtBN,EAsBM,CArBJ+C,GACA/C,EAAAA,EAAAA,GAmBQ,QAnBR,EAmBQ,CAlBOI,EAAAA,UAAUY,OAAAA,EAAAA,EAAAA,OAAvBV,EAAAA,EAAAA,IAiBQ,QAAAwB,EAAA,EAhBN9B,EAAAA,EAAAA,GAGK,WAFHgD,GACAhD,EAAAA,EAAAA,GAAkC,WAAAa,EAAAA,EAAAA,IAA3BT,EAAAA,UAAUY,KAAKiC,MAAI,MAE5BjD,EAAAA,EAAAA,GAGK,WAFHgC,GACAhC,EAAAA,EAAAA,GAAmC,WAAAa,EAAAA,EAAAA,IAA5BT,EAAAA,UAAUY,KAAKC,OAAK,MAE7BjB,EAAAA,EAAAA,GAGK,WAFHiC,GACAjC,EAAAA,EAAAA,GAAiC,WAAAa,EAAAA,EAAAA,IAA1BT,EAAAA,UAAUY,KAAKkC,KAAG,MAE3BlD,EAAAA,EAAAA,GAGK,WAFHmD,GACAnD,EAAAA,EAAAA,GAAqC,WAAAa,EAAAA,EAAAA,IAA9BT,EAAAA,UAAUY,KAAKoC,SAAO,SAfjC,oBAoBJpD,EAAAA,EAAAA,GAkEM,MAlEN,EAkEM,CAjEJqD,GACArD,EAAAA,EAAAA,GAiCQ,QAjCR,EAiCQ,EAhCNA,EAAAA,EAAAA,GA+BQ,eA9BNA,EAAAA,EAAAA,GAGK,WAFHsD,GACAtD,EAAAA,EAAAA,GAA2B,WAAAa,EAAAA,EAAAA,IAApBT,EAAAA,UAAUsB,IAAE,MAErB1B,EAAAA,EAAAA,GAGK,WAFHuD,GACAvD,EAAAA,EAAAA,GAAwC,WAAAa,EAAAA,EAAAA,IAAjCC,EAAAA,KAAKV,EAAAA,UAAUW,YAAS,MAEjCf,EAAAA,EAAAA,GAQK,WAPHwD,GACAxD,EAAAA,EAAAA,GAKK,WAJSI,EAAAA,UAAUqD,YAAAA,EAAAA,EAAAA,OAAtBnD,EAAAA,EAAAA,IAEO,OAAAoD,GAAA7C,EAAAA,EAAAA,IADFC,EAAAA,KAAKV,EAAAA,UAAUqD,YAAS,MAD7B,WAGAnD,EAAAA,EAAAA,IAAyB,OAAAqD,EAAZ,eAGjB3D,EAAAA,EAAAA,GAMK,WALH4D,GACA5D,EAAAA,EAAAA,GAGK,WAFWI,EAAAA,UAAUQ,UAAAA,EAAAA,EAAAA,OAAxBN,EAAAA,EAAAA,IAAkE,SAAlE,EAAsD,UAAtD,WACAA,EAAAA,EAAAA,IAA2C,OAA3C,EAAgC,cAGpCN,EAAAA,EAAAA,GAKK,WAJH6D,GACA7D,EAAAA,EAAAA,GAEK,WAAAa,EAAAA,EAAAA,IADAT,EAAAA,UAAUoB,OAAK,SAK1BsC,GACA9D,EAAAA,EAAAA,GAeQ,QAfR,EAeQ,CAdN+D,GAGA/D,EAAAA,EAAAA,GAUQ,6BATNM,EAAAA,EAAAA,IAQKC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IARcJ,EAAAA,UAAUc,UAAlBT,K,WAAXH,EAAAA,EAAAA,IAQK,MARmCI,IAAKD,EAAKiB,IAAlD,EACE1B,EAAAA,EAAAA,GAEK,WAAAa,EAAAA,EAAAA,IADAJ,EAAKU,QAAQE,OAAK,IAEvBrB,EAAAA,EAAAA,GAAiD,WAAAa,EAAAA,EAAAA,IAA1CJ,EAAKa,KAAM,OAAGT,EAAAA,EAAAA,IAAGJ,EAAKU,QAAQI,MAAI,IACzCvB,EAAAA,EAAAA,GAEK,KAFL,GAEKa,EAAAA,EAAAA,IADAJ,EAAKuD,aAAW,QANvB,WAWJhE,EAAAA,EAAAA,GAYM,MAZN,EAYM,EAXJA,EAAAA,EAAAA,GAUM,MAVN,EAUM,WATJA,EAAAA,EAAAA,GAI+B,SAJxByB,KAAK,WACV1B,MAAM,mBACNkE,MAAM,GACNvC,GAAG,mB,qCACMtB,EAAAA,UAAUQ,QAAOe,IAJ5B,iBAIWvB,EAAAA,UAAUQ,YACrBZ,EAAAA,EAAAA,GAGQ,QAHR,EAGQ,CAFMI,EAAAA,UAAUQ,UAAAA,EAAAA,EAAAA,OAAtBN,EAAAA,EAAAA,IAAyC,OAAA4D,GAAV,UAA/B,WACA5D,EAAAA,EAAAA,IAAuB,OAAA6D,GAAV,qBAOzBnE,EAAAA,EAAAA,GAWM,MAXN,GAWM,CAVJoE,IAKApE,EAAAA,EAAAA,GAIS,UAJDyB,KAAK,SACX1B,MAAM,kBACLgC,QAAK,eAAEjB,EAAAA,WAAWV,EAAAA,aAAY,mBAzHzC,K,0BAqIF,IACEiE,MAAO,CACL/B,MAAO,CACLb,KAAM6C,OACNC,UACE,MAAO,MAIbC,OACE,MAAO,CACLC,OAAQ,GACRC,MAAO,GACPC,UAAW,GACXC,QAAQ,IAGZC,MAAO,CACLvC,QACEwC,KAAKH,UAAYG,KAAKxC,QAG1ByC,QAAS,CAEPC,KAAKC,GACH,MAAMD,EAAO,IAAIE,KAAY,IAAPD,GACtB,OAAOD,EAAKG,sBAEdC,WAAW3E,GACT,MAAM4E,EAAO,2EAAyE5E,EAAKiB,KACrF4D,EAAO,CACX1E,QAASH,EAAKG,SAEhBkE,KAAKS,MACFC,IAAIH,EAAK,CAAEb,KAAMc,IACjBG,MAAMC,IACLZ,KAAKa,kBAAkBD,EAAK,UAC5BZ,KAAKc,WAAWC,OAChBf,KAAKgB,MAAM,kBAEZC,OAAOC,IACNlB,KAAKa,kBAAkBK,EAAIC,SAAU,YAG3CC,YACEpB,KAAKc,WAAWO,QAElBC,aACEtB,KAAKc,WAAWC,SAIpBQ,UACEvB,KAAKc,WAAa,IAAIU,KAAJ,CAAUxB,KAAKyB,MAAM7B,MAAO,CAC5C8B,UAAU,EACVC,SAAU,a,WCxLhB,MAAMC,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,MAEpE,U,UCNO3G,MAAM,aACT2B,GAAG,gBACHiB,SAAS,KACTC,KAAK,SACL,kBAAgB,oBAChB,cAAY,OACZL,IAAI,S,IACCxC,MAAM,eAAe6C,KAAK,Y,IACxB7C,MAAM,0B,IACJA,MAAM,qC,IACLA,MAAM,e,IAGVC,EAAAA,EAAAA,GAIS,UAJDyB,KAAK,SACX1B,MAAM,YACN,kBAAgB,QAChB,aAAW,SAHb,S,IAMGA,MAAM,c,YAAa,U,IAEdA,MAAM,e,YAAuC,iB,IAGlDA,MAAM,gB,IACTC,EAAAA,EAAAA,GAIS,UAJDyB,KAAK,SACX1B,MAAM,4BACN,kBAAgB,SAAQ,QAE1B,G,2CA7BRO,EAAAA,EAAAA,IAsCM,MAtCN,GAsCM,EA/BJN,EAAAA,EAAAA,GA8BM,MA9BN,GA8BM,EA7BJA,EAAAA,EAAAA,GA4BM,MA5BN,GA4BM,EA3BJA,EAAAA,EAAAA,GASM,MATN,GASM,EARJA,EAAAA,EAAAA,GAEK,KAFL,GAEK,EADHA,EAAAA,EAAAA,GAAgC,YAA1B,OAAGa,EAAAA,EAAAA,IAAG8F,EAAAA,KAAKtF,OAAK,KAExBuF,MAMF5G,EAAAA,EAAAA,GAIM,MAJN,GAIM,KAFJA,EAAAA,EAAAA,GAAqD,SAArD,IAAqDa,EAAAA,EAAAA,IAAtB8F,EAAAA,KAAKtF,OAAK,GAErC,MACNrB,EAAAA,EAAAA,GAWM,MAXN,GAWM,CAVJgC,IAKAhC,EAAAA,EAAAA,GAIS,UAJDyB,KAAK,SACX1B,MAAM,iBACLgC,QAAK,eAAE8E,EAAAA,MAAK,oBAAoB,iBAhC3C,KA4CF,QACExC,MAAO,CAAC,QACRG,OACE,MAAO,CACLE,MAAO,KAGXK,QAAS,CACPmB,YACEpB,KAAKgC,cAAcX,QAErBY,YACEjC,KAAKgC,cAAcjB,SAGvBmB,MAAO,CAAC,kBACRX,UACEvB,KAAKgC,cAAgB,IAAIR,KAAJ,CAAUxB,KAAKyB,MAAM7B,MAAO,CAC/C8B,UAAU,EACVC,SAAU,aC3DhB,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,MAEpE,UJ0EA,IACEjC,OACE,MAAO,CACLyC,OAAQ,GACRC,OAAO,EACPC,WAAY,GACZxC,UAAW,GACXyC,WAAW,IAIfC,WAAY,CACVC,eADU,IAEVC,WAFU,GAGVC,cAAAA,IAEFC,OAAQ,CAAC,WACT1C,QAAS,CAEPC,KAAKC,GACH,MAAMD,EAAO,IAAIE,KAAY,IAAPD,GACtB,OAAOD,EAAKG,sBAEduC,UAAUC,EAAO,GACf,MAAMtC,EAAO,iFAA+EsC,IAC5F7C,KAAKsC,WAAY,EACjBtC,KAAKS,MACFqC,IAAIvC,GACJI,MAAMC,IACLmC,QAAQC,IAAIpC,GACZZ,KAAKmC,OAASvB,EAAIlB,KAAKyC,OACvBnC,KAAKsC,WAAY,EACjBtC,KAAKqC,WAAazB,EAAIlB,KAAK2C,cAE5BpB,OAAOC,IACNlB,KAAKa,kBAAkBK,EAAIC,SAAU,YAI3C8B,WACE,MAAM1C,EAAO,2EAAyEP,KAAKH,UAAUjD,KACrGoD,KAAKS,MACFyC,OAAO3C,GACPI,MAAMC,IACLmC,QAAQC,IAAIpC,GACZZ,KAAKgB,MAAM,cACXhB,KAAKyB,MAAMO,cAAcC,YACzBjC,KAAK4C,eAEN3B,OAAOC,IACNlB,KAAKa,kBAAkBK,EAAIC,SAAU,YAI3CgC,gBAAgBxH,GACdqE,KAAKH,UAAY,IAAKlE,GACtBqE,KAAKoC,OAAQ,EACbpC,KAAKyB,MAAMX,WAAWM,aAExBgC,kBAAkBzH,GAChBqE,KAAKH,UAAY,IAAKlE,GACtBqE,KAAKyB,MAAMO,cAAcZ,cAG7BG,UACEvB,KAAK4C,cK7IT,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAASS,KAEpE","sources":["webpack://week8/./src/views/AdminOrders.vue","webpack://week8/./src/components/OrderModal.vue","webpack://week8/./src/components/OrderModal.vue?b91a","webpack://week8/./src/components/DelOrderModal.vue","webpack://week8/./src/components/DelOrderModal.vue?6a31","webpack://week8/./src/views/AdminOrders.vue?577b"],"sourcesContent":["<template>\n  <component-loading :active=\"isLoading\"></component-loading>\n  <table class=\"table mt-4\">\n    <thead>\n      <tr>\n        <th>購買時間</th>\n        <th>Email</th>\n        <th>購買款項</th>\n        <th>應付金額</th>\n        <th>是否付款</th>\n        <th>編輯</th>\n      </tr>\n    </thead>\n    <tbody>\n      <template v-for=\"(item, key) in orders\" :key=\"key\">\n        <tr v-if=\"orders.length\" :class=\"{ 'text-secondary': !item.is_paid }\">\n          <td>{{ date(item.create_at) }}</td>\n          <td><span v-text=\"item.user.email\" v-if=\"item.user\"></span></td>\n          <td>\n            <ul class=\"list-unstyled\">\n              <li v-for=\"(product, index) in item.products\" :key=\"index\">\n                {{ product.product.title }} 數量：{{ product.qty }}\n                {{ product.product.unit }}\n              </li>\n            </ul>\n          </td>\n          <td class=\"text-right\">{{ item.total }}</td>\n          <td>\n            <div class=\"form-check form-switch\">\n              <input type=\"checkbox\"\n                class=\"form-check-input\"\n                :id=\"`${item.id}`\"\n                v-model=\"item.is_paid\"/>\n              <label class=\"form-check-label\" :for=\"`${item.id}`\">\n                <span v-if=\"item.is_paid\">已付款</span>\n                <span v-else>未付款</span>\n              </label>\n            </div><!-- .form-check -->\n          </td>\n          <td>\n            <div class=\"btn-group\">\n              <button type=\"button\"\n                class=\"btn btn-outline-primary btn-sm\"\n                @click=\"openOrdersModal(item)\">\n                檢視\n              </button>\n              <button type=\"button\"\n                class=\"btn btn-outline-danger btn-sm\"\n                @click=\"openDelOrderModal(item)\">\n                刪除\n              </button>\n            </div><!-- .btn-group -->\n          </td>\n        </tr>\n      </template>\n    </tbody>\n  </table>\n  <!-- 分頁元件 -->\n  <page-pagination\n    :pages=\"pagination\"\n    @get-product=\"getOrders\">\n  </page-pagination>\n  <!-- 訂單 新增 model -->\n  <order-modal\n    :order=\"tempOrder\"\n    ref=\"orderModal\"\n    @update-paid=\"getOrders\"\n  ></order-modal>\n  <!-- 訂單 刪除 model -->\n  <del-orderModal\n    :item=\"tempOrder\"\n    ref=\"delOrderModal\"\n    @del-order-item=\"delOrder\"\n  ></del-orderModal>\n</template>\n\n<script>\nimport PagePagination from '@/components/PagePagination.vue';\nimport OrderModal from '@/components/OrderModal.vue';\nimport DelOrderModal from '@/components/DelOrderModal.vue';\n\nexport default {\n  data() {\n    return {\n      orders: [],\n      isNew: false,\n      pagination: {},\n      tempOrder: {},\n      isLoading: false,\n    };\n  },\n  // 區域註冊\n  components: {\n    PagePagination,\n    OrderModal,\n    DelOrderModal,\n  },\n  inject: ['emitter'],\n  methods: {\n    // 時間戳\n    date(time) {\n      const date = new Date(time * 1000);\n      return date.toLocaleDateString();\n    },\n    getOrders(page = 1) {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/orders?page=${page}`;\n      this.isLoading = true;\n      this.$http\n        .get(url)\n        .then((res) => {\n          console.log(res);\n          this.orders = res.data.orders;\n          this.isLoading = false;\n          this.pagination = res.data.pagination;\n        })\n        .catch((err) => {\n          this.$httpMessageState(err.response, '錯誤訊息');\n        });\n    },\n\n    delOrder() {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/order/${this.tempOrder.id}`;\n      this.$http\n        .delete(url)\n        .then((res) => {\n          console.log(res);\n          this.$emit('get-orders');\n          this.$refs.delOrderModal.hideModal();\n          this.getOrders();\n        })\n        .catch((err) => {\n          this.$httpMessageState(err.response, '錯誤訊息');\n        });\n    },\n\n    openOrdersModal(item) {\n      this.tempOrder = { ...item };\n      this.isNew = false;\n      this.$refs.orderModal.openModal();\n    },\n    openDelOrderModal(item) {\n      this.tempOrder = { ...item };\n      this.$refs.delOrderModal.openModal();\n    },\n  },\n  mounted() {\n    this.getOrders();\n  },\n};\n</script>\n","<template>\n  <div class=\"modal fade\"\n    id=\"OrderModal\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\">\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-dark text-white\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n            <span>訂單細節</span>\n          </h5>\n          <button type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\">\n          </button>\n        </div><!-- .modal-header-->\n        <div class=\"modal-body\">\n          <div class=\"row\">\n            <div class=\"col-md-4\">\n              <h3>用戶資料</h3>\n              <table class=\"table\">\n                <tbody v-if=\"tempOrder.user\">\n                  <tr>\n                    <th style=\"width: 100px\">姓名：</th>\n                    <td>{{ tempOrder.user.name }}</td>\n                  </tr>\n                  <tr>\n                    <th>Email：</th>\n                    <td>{{ tempOrder.user.email }}</td>\n                  </tr>\n                  <tr>\n                    <th>電話：</th>\n                    <td>{{ tempOrder.user.tel }}</td>\n                  </tr>\n                  <tr>\n                    <th>地址：</th>\n                    <td>{{ tempOrder.user.address }}</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n            <div class=\"col-md-8\">\n              <h3>訂單細節</h3>\n              <table class=\"table\">\n                <tbody>\n                  <tr>\n                    <th style=\"width: 100px\">訂單編號：</th>\n                    <td>{{ tempOrder.id }}</td>\n                  </tr>\n                  <tr>\n                    <th>下單時間：</th>\n                    <td>{{ date(tempOrder.create_at) }}</td>\n                  </tr>\n                  <tr>\n                    <th>付款時間：</th>\n                    <td>\n                      <span v-if=\"tempOrder.paid_date\">\n                        {{ date(tempOrder.paid_date) }}\n                      </span>\n                      <span v-else>時間不正確</span>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th>付款狀態：</th>\n                    <td>\n                      <strong v-if=\"tempOrder.is_paid\" class=\"text-success\">已付款</strong>\n                      <span v-else class=\"text-muted\">尚未付款</span>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th>總金額：</th>\n                    <td>\n                      {{ tempOrder.total }}\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n              <h3>選購商品：</h3>\n              <table class=\"table\">\n                <thead>\n                  <tr></tr>\n                </thead>\n                <tbody>\n                  <tr v-for=\"item in tempOrder.products\" :key=\"item.id\">\n                    <th>\n                      {{ item.product.title }}\n                    </th>\n                    <td>{{ item.qty }} / {{ item.product.unit }}</td>\n                    <td class=\"text-end\">\n                      {{ item.final_total }}\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n              <div class=\"d-flex justify-content-end\">\n                <div class=\"form-check\">\n                  <input type=\"checkbox\"\n                    class=\"form-check-input\"\n                    value=\"\"\n                    id=\"flexCheckDefault\"\n                    v-model=\"tempOrder.is_paid\"/>\n                  <label class=\"form-check-label\" for=\"flexCheckDefault\">\n                    <span v-if=\"tempOrder.is_paid\">已付款</span>\n                    <span v-else>未付款</span>\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div><!-- .modal-body-->\n        <div class=\"modal-footer\">\n          <button type=\"button\"\n            class=\"btn btn-outline-secondary\"\n            data-bs-dismiss=\"modal\">\n            取消\n          </button>\n          <button type=\"button\"\n            class=\"btn btn-primary\"\n            @click=\"updatePaid(tempOrder)\">\n            修改付款狀態\n          </button>\n        </div><!-- .modal-footer -->\n      </div><!-- .modal-content -->\n    </div><!-- .modal-dialog -->\n  </div><!-- .modal -->\n</template>\n\n<script>\nimport Modal from 'bootstrap/js/dist/modal';\n\nexport default {\n  props: {\n    order: {\n      type: Object,\n      default() {\n        return {};\n      },\n    },\n  },\n  data() {\n    return {\n      status: {},\n      modal: {},\n      tempOrder: {},\n      isPaid: false,\n    };\n  },\n  watch: {\n    order() {\n      this.tempOrder = this.order;\n    },\n  },\n  methods: {\n    // 時間紀錄\n    date(time) {\n      const date = new Date(time * 1000);\n      return date.toLocaleDateString();\n    },\n    updatePaid(item) {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/order/${item.id}`;\n      const paid = {\n        is_paid: item.is_paid,\n      };\n      this.$http\n        .put(url, { data: paid })\n        .then((res) => {\n          this.$httpMessageState(res, '更新付款狀態');\n          this.orderModal.hide();\n          this.$emit('update-paid');\n        })\n        .catch((err) => {\n          this.$httpMessageState(err.response, '錯誤訊息');\n        });\n    },\n    openModal() {\n      this.orderModal.show();\n    },\n    closeModal() {\n      this.orderModal.hide();\n    },\n  },\n\n  mounted() {\n    this.orderModal = new Modal(this.$refs.modal, {\n      keyboard: false,\n      backdrop: 'static',\n    });\n  },\n};\n</script>\n","import { render } from \"./OrderModal.vue?vue&type=template&id=e372a76c\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\soyxi\\\\Downloads\\\\20220403-week-8\\\\hexschool-vue-week-78-main\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"modal fade\"\n    id=\"delOrderModal\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\">\n    <div class=\"modal-dialog\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-danger text-white\">\n          <h5 class=\"modal-title\">\n            <span>刪除 {{ item.title }}</span>\n          </h5>\n          <button type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\">\n          </button>\n        </div><!-- .modal-header -->\n        <div class=\"modal-body\">\n          是否刪除\n          <strong class=\"text-danger\">{{ item.title }}</strong>\n          (刪除後將無法恢復)。\n        </div><!-- .modal-body -->\n        <div class=\"modal-footer\">\n          <button type=\"button\"\n            class=\"btn btn-outline-secondary\"\n            data-bs-dismiss=\"modal\">\n            取消\n          </button>\n          <button type=\"button\"\n            class=\"btn btn-danger\"\n            @click=\"$emit('del-order-item')\">\n            確認刪除\n          </button>\n        </div><!-- .modal-footer -->\n      </div><!-- .modal-content -->\n    </div><!-- .modal-dialog -->\n  </div><!-- .modal -->\n</template>\n\n<script>\nimport Modal from 'bootstrap/js/dist/modal';\n\nexport default {\n  props: ['item'],\n  data() {\n    return {\n      modal: {},\n    };\n  },\n  methods: {\n    openModal() {\n      this.delOrderModal.show();\n    },\n    hideModal() {\n      this.delOrderModal.hide();\n    },\n  },\n  emits: ['del-order-item'],\n  mounted() {\n    this.delOrderModal = new Modal(this.$refs.modal, {\n      keyboard: false,\n      backdrop: 'static',\n    });\n  },\n};\n</script>\n","import { render } from \"./DelOrderModal.vue?vue&type=template&id=17c46d12\"\nimport script from \"./DelOrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./DelOrderModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\soyxi\\\\Downloads\\\\20220403-week-8\\\\hexschool-vue-week-78-main\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./AdminOrders.vue?vue&type=template&id=f81a1db6\"\nimport script from \"./AdminOrders.vue?vue&type=script&lang=js\"\nexport * from \"./AdminOrders.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\soyxi\\\\Downloads\\\\20220403-week-8\\\\hexschool-vue-week-78-main\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createVNode","_component_component_loading","active","$data","_hoisted_2","_createElementBlock","_Fragment","_renderList","item","key","length","is_paid","_toDisplayString","$options","create_at","user","email","products","product","index","title","qty","unit","total","type","id","$event","for","_hoisted_9","_hoisted_10","onClick","_hoisted_12","_hoisted_13","_component_page_pagination","pages","onGetProduct","_component_order_modal","order","ref","onUpdatePaid","_component_del_orderModal","onDelOrderItem","tabindex","role","style","_hoisted_4","_hoisted_8","_hoisted_11","name","tel","_hoisted_14","address","_hoisted_16","_hoisted_18","_hoisted_19","_hoisted_20","paid_date","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_26","_hoisted_27","_hoisted_29","final_total","value","_hoisted_34","_hoisted_35","_hoisted_37","props","Object","default","data","status","modal","tempOrder","isPaid","watch","this","methods","date","time","Date","toLocaleDateString","updatePaid","url","paid","$http","put","then","res","$httpMessageState","orderModal","hide","$emit","catch","err","response","openModal","show","closeModal","mounted","Modal","$refs","keyboard","backdrop","__exports__","$props","_hoisted_6","_ctx","delOrderModal","hideModal","emits","orders","isNew","pagination","isLoading","components","PagePagination","OrderModal","DelOrderModal","inject","getOrders","page","get","console","log","delOrder","delete","openOrdersModal","openDelOrderModal","render"],"sourceRoot":""}